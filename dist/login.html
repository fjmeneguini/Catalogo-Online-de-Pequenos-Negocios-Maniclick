<!-- ============================================================
     PÁGINA DE LOGIN | ManiClick
     ============================================================ -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entrar/Cadastrar - ManiClick</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .btn-google {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: #fff;
      color: #555;
      border: 1px solid #ccc;
      border-radius: 30px;
      padding: 10px 25px;
      font-size: 16px;
      cursor: pointer;
      margin: 40px auto 40px auto; /* espaçamento maior acima e abaixo */
      transition: 0.2s;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .btn-google:hover {
      background: #f3eaff;
      border-color: #d63384;
      color: #d63384;
    }
    .btn-google img {
      width: 22px;
      height: 22px;
      vertical-align: middle;
      margin-right: 8px;
    }
    #telefone-google-form {
      display: none;
      flex-direction: column;
      gap: 12px;
      max-width: 380px;
      margin: 0 auto 16px auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.08);
      padding: 24px 24px 18px 24px;
      position: relative;
      z-index: 2;
    }
    #telefone-google-form label {
      font-weight: bold;
      color: #d63384;
      margin-bottom: 4px;
      font-size: 1.08em;
    }
    #telefone-google-form input {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 16px;
      width: 100%;
      box-sizing: border-box;
      margin-bottom: 8px;
      background: #fff;
      color: #333;
    }
    #telefone-google-form button {
      background: #d63384;
      color: #fff;
      padding: 10px 25px;
      border: none;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
      text-decoration: none;
      margin-top: 8px;
    }
    #telefone-google-form button:hover {
      background: #801F4F;
    }
    /* Ajuste para centralizar o bloco do formulário de telefone Google */
    .contato-card {
      position: relative;
      z-index: 1;
      max-width: 420px;
      margin: 48px auto 32px auto;
      background: #fff;
      border-radius: 24px;
      box-shadow: 0 2px 16px rgba(214,51,132,0.10);
      padding: 36px 24px 32px 24px;
      text-align: center;
      overflow: visible;
    }
    /* Garante que o bloco do telefone Google não ultrapasse o card */
    @media (max-width: 500px) {
      .contato-card, #telefone-google-form {
        max-width: 98vw;
        padding-left: 8px;
        padding-right: 8px;
      }
    }
    /* Espaço extra entre o botão Google e o bloco do telefone */
    #telefone-google-form {
      margin-top: 0;
      margin-bottom: 16px;
    }
    .link-esqueci-senha {
      color: #d63384;
      text-decoration: underline;
      font-size: 0.98em;
      cursor: pointer;
      margin-top: -10px;
      margin-bottom: 8px;
      display: inline-block;
    }
    .link-esqueci-senha:hover {
      color: #801F4F;
    }
  </style>
</head>
<body>
  <!-- ============================================================
       CABEÇALHO E NAVEGAÇÃO
       ============================================================ -->
  <header>
    <div class="header-container">
      <div class="logo">
        <h1>ManiClick</h1>
        <span class="subtitulo">Sandra Almeida - Manicure</span>
      </div>
      <button class="menu-hamburguer" id="menu-hamburguer" aria-label="Abrir menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="menu-mobile" id="menu-mobile">
        <button class="fechar-menu" id="fechar-menu" aria-label="Fechar menu">&times;</button>
        <ul>
          <li><a href="index.html">Início</a></li>
          <li class="submenu-servicos">
            <a href="#" id="abrir-submenu-mobile">Serviços &#9662;</a>
            <ul class="submenu-lista">
              <li><a href="alongamentofibradevidro.html">Alongamento Fibra de Vidro</a></li>
              <li><a href="blindagemdeunhas.html">Blindagem de Unhas</a></li>
              <li><a href="decoracaoartistica.html">Decoração Artística</a></li>
              <li><a href="esmaltacaosimples.html">Esmaltação Simples</a></li>
              <li><a href="francesinha.html">Francesinha</a></li>
              <li><a href="hidratacaodecuticulas.html">Hidratação de Cutículas</a></li>
              <li><a href="peemao.html">Pé e Mão</a></li>
              <li><a href="remocaodegelfibra.html">Remoção de Gel/Fibra</a></li>
              <li><a href="spadospes.html">Spa dos Pés</a></li>
              <li><a href="unhadecorada.html">Unha Decorada</a></li>
              <li><a href="unhasemgel.html">Unhas em Gel</a></li>
              <li><a href="unhasinfantis.html">Unhas Infantis</a></li>
            </ul>
          </li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a href="index.html#avaliacoes">Avaliações</a></li>
          <li><a href="contatenos.html">Contate-nos</a></li>
          <li><a href="login.html">Entrar/Cadastrar</a></li>
          <li><a href="index.html#agendar" class="btn-agendar">Agende seu horário</a></li>
        </ul>
      </nav>
      <nav>
        <ul class="menu-principal">
          <li><a href="index.html">Início</a></li>
          <li class="submenu-servicos">
            <a href="index.html#servicos">Serviços</a>
            <ul class="submenu-lista">
              <li><a href="alongamentofibradevidro.html">Alongamento Fibra de Vidro</a></li>
              <li><a href="blindagemdeunhas.html">Blindagem de Unhas</a></li>
              <li><a href="decoracaoartistica.html">Decoração Artística</a></li>
              <li><a href="esmaltacaosimples.html">Esmaltação Simples</a></li>
              <li><a href="francesinha.html">Francesinha</a></li>
              <li><a href="hidratacaodecuticulas.html">Hidratação de Cutículas</a></li>
              <li><a href="peemao.html">Pé e Mão</a></li>
              <li><a href="remocaodegelfibra.html">Remoção de Gel/Fibra</a></li>
              <li><a href="spadospes.html">Spa dos Pés</a></li>
              <li><a href="unhadecorada.html">Unha Decorada</a></li>
              <li><a href="unhasemgel.html">Unhas em Gel</a></li>
              <li><a href="unhasinfantis.html">Unhas Infantis</a></li>
            </ul>
          </li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a href="index.html#avaliacoes">Avaliações</a></li>
          <li><a href="contatenos.html">Contate-nos</a></li>
          <li><a href="login.html">Entrar/Cadastrar</a></li>
          <li><a href="index.html#agendar" class="btn-agendar">Agende seu horário</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <!-- ============================================================
       CONTEÚDO PRINCIPAL - LOGIN/CADASTRO
       ============================================================ -->
  <main>
    <section class="contato" id="login">
      <div class="contato-card">
        <h2>Entrar ou Cadastrar</h2>
        <form id="form-login">
          <label for="email">E-mail:</label>
          <input type="email" id="email" name="email" required>
          <label for="senha">Senha:</label>
          <input type="password" id="senha" name="senha" required>
          <button type="submit" class="btn">Entrar</button>
          <div style="margin-top:10px;">
            <a href="#" id="link-esqueci-senha" class="link-esqueci-senha">Esqueceu sua senha?</a>
          </div>
        </form>
        <button type="button" class="btn-google" id="btn-google">
          <img src="https://cdn-icons-png.flaticon.com/512/300/300221.png" alt="Google">
          Entrar com Google
        </button>
        <form id="telefone-google-form">
          <label for="telefone-google">Informe seu telefone para completar o cadastro:</label>
          <input type="tel" id="telefone-google" name="telefone-google" required placeholder="Telefone/WhatsApp">
          <!-- Verificação SMS desabilitada -->
          <div style="display:none;" id="verificacao-telefone-google"></div>
          <button type="submit" id="btn-salvar-google" disabled>Salvar telefone</button>
          <p id="status-telefone-google" style="font-size:12px;color:#d63384;margin-top:8px;text-align:center;">
            Verifique seu telefone para continuar
          </p>
        </form>
        <div id="cadastro-link" style="text-align:center;margin-top:16px;">
          <span>Não tem cadastro?</span>
          <a href="#" id="mostrar-cadastro" style="color:#d63384;font-weight:bold;">Clique aqui para cadastrar</a>
        </div>
        <form id="form-cadastro" style="display:none;margin-top:24px;">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" name="nome" required>
          <label for="telefone-cadastro">Telefone:</label>
          <input type="tel" id="telefone-cadastro" name="telefone-cadastro" required>
          <!-- Verificação SMS desabilitada -->
          <div style="display:none;" id="verificacao-telefone"></div>
          <label for="email-cadastro">E-mail:</label>
          <input type="email" id="email-cadastro" name="email-cadastro" required>
          <div id="verificacao-email" style="display:none;margin-top:10px;">
            <label for="codigo-email">Código do E-mail:</label>
            <div style="display:flex;gap:8px;align-items:center;">
              <input type="text" id="codigo-email" placeholder="Digite o código do email" maxlength="6">
              <button type="button" id="verificar-email" class="btn" style="padding:8px 15px;font-size:14px;">Verificar</button>
            </div>
            <p style="font-size:12px;color:#666;margin:5px 0;">Enviamos um código para o seu email</p>
          </div>
          <label for="senha-cadastro">Senha:</label>
          <input type="password" id="senha-cadastro" name="senha-cadastro" required>
          <button type="submit" class="btn" id="btn-cadastrar" disabled>Cadastrar</button>
          <p id="status-verificacoes" style="font-size:12px;color:#d63384;margin-top:8px;text-align:center;">
            Verifique seu telefone e email para continuar
          </p>
        </form>
        <div id="login-link" style="text-align:center;margin-top:16px;display:none;">
          <span>Já tem cadastro?</span>
          <a href="#" id="mostrar-login" style="color:#d63384;font-weight:bold;">Faça seu login aqui</a>
        </div>
        <div id="mensagem-login" style="color:#d63384;text-align:center;margin-top:12px;"></div>
      </div>
    </section>
  </main>
  <!-- ============================================================
       RODAPÉ PADRÃO
       ============================================================ -->
  <footer>
    <div class="container">
      <div class="contato" id="contato-info"></div>
      <div class="icones" id="icones"></div>
      <p class="final">© 2025 ManiClick</p>
    </div>
  </footer>
  <!-- ============================================================
       BOTÕES FLUTUANTES
       ============================================================ -->
  <a id="whatsapp-link" href="#" class="whatsapp-float" target="_blank" rel="noopener" aria-label="WhatsApp">
    <img src="imagens/whatsapp.png" alt="WhatsApp">
  </a>
  <button onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="topo-float" aria-label="Voltar ao topo">
    ▲
  </button>
  <!-- ============================================================
       SCRIPTS: FIREBASE, AUTH, CONTATO, REDES SOCIAIS E MENU MOBILE
       ============================================================ -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    // Configuração do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDh8Rm-kx1HNbZewCv5D29EO3SMw_CDjyg",
      authDomain: "copn---maniclick.firebaseapp.com",
      projectId: "copn---maniclick",
      storageBucket: "copn---maniclick.appspot.com",
      messagingSenderId: "548110366122",
      appId: "1:548110366122:web:3e61878dd52d8657eda7d3",
      measurementId: "G-PFDZ47R5B0"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();

    // ============================================================
    // SISTEMA DE VERIFICAÇÃO - VARIÁVEIS GLOBAIS
    // ============================================================
    let verificacaoStatus = {
      telefone: false,
      email: false,
      codigoTelefone: null,
      codigoEmail: null
    };

    let verificacaoGoogle = {
      telefone: false,
      codigoTelefone: null
    };

    // ============================================================
    // FUNÇÕES AUXILIARES DE VERIFICAÇÃO
    // ============================================================
    function gerarCodigoVerificacao() {
      return Math.floor(100000 + Math.random() * 900000).toString();
    }

    function enviarCodigoSMS(telefone, codigo) {
      // SMS desabilitado - apenas salva telefone sem verificação
      console.log(`SMS desabilitado para ${telefone}: Código ${codigo}`);
      return Promise.resolve(true);
    }

    function enviarCodigoEmail(email, codigo) {
      // Simulação de envio de email - em produção usar serviço real
      console.log(`Email enviado para ${email}: Código ${codigo}`);
      alert(`Código Email simulado para ${email}: ${codigo}`);
      return Promise.resolve(true);
    }

    function atualizarStatusVerificacao() {
      const btnCadastrar = document.getElementById('btn-cadastrar');
      const statusMsg = document.getElementById('status-verificacoes');
      
      // SMS desabilitado - verificar apenas email e se telefone foi preenchido
      const telefone = document.getElementById('telefone-cadastro').value.trim();
      const telefoneValido = telefone.length >= 10;
      
      if (telefoneValido && verificacaoStatus.email) {
        btnCadastrar.disabled = false;
        statusMsg.textContent = '✓ Email verificado, telefone salvo automaticamente';
        statusMsg.style.color = '#28a745';
        verificacaoStatus.telefone = true; // Marca automaticamente como verificado
      } else {
        btnCadastrar.disabled = true;
        const pendentes = [];
        if (!telefoneValido) pendentes.push('telefone válido');
        if (!verificacaoStatus.email) pendentes.push('email');
        statusMsg.textContent = `Preencha: ${pendentes.join(' e ')}`;
        statusMsg.style.color = '#d63384';
      }
    }

    // Carregar contato e redes sociais do Firestore (coleção: contato, doc: info)
    db.collection("contato").doc("info").get().then((doc) => {
      if (doc.exists) {
        const data = doc.data();
        document.getElementById('contato-info').innerHTML = `
          <p><strong>Endereço:</strong> ${data.endereco}</p>
          <p><strong>Telefone:</strong> ${data.telefone}</p>
          <p><strong>Horário:</strong> ${data.horario}</p>
        `;
        document.getElementById('icones').innerHTML = `
          <a href="${data.instagram}" target="_blank" rel="noopener" aria-label="Instagram">
            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram">
          </a>
          <a href="${data.facebook}" target="_blank" rel="noopener" aria-label="Facebook">
            <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook">
          </a>
          <a href="${data.tiktok}" target="_blank" rel="noopener" aria-label="TikTok">
            <img src="imagens/tiktok.png" alt="TikTok">
          </a>
        `;
        document.getElementById('whatsapp-link').href = `https://wa.me/${data.whatsapp}`;
      }
    });

    // MENU MOBILE E SUBMENU DE SERVIÇOS
    const btnHamburguer = document.getElementById('menu-hamburguer');
    const menuMobile = document.getElementById('menu-mobile');
    const btnFechar = document.getElementById('fechar-menu');
    btnHamburguer.addEventListener('click', () => {
      menuMobile.classList.add('ativo');
    });
    btnFechar.addEventListener('click', () => {
      menuMobile.classList.remove('ativo');
      const submenuServicos = document.querySelector('.menu-mobile .submenu-servicos');
      if (submenuServicos) submenuServicos.classList.remove('ativo');
    });
    const abrirSubmenuMobile = document.getElementById('abrir-submenu-mobile');
    const submenuServicos = abrirSubmenuMobile.parentElement;
    abrirSubmenuMobile.addEventListener('click', function(e) {
      e.preventDefault();
      submenuServicos.classList.toggle('ativo');
    });
    submenuServicos.querySelectorAll('.submenu-lista a').forEach(link => {
      link.addEventListener('click', function(e) {
        e.stopPropagation();
      });
    });

    // Alternância entre login e cadastro
    document.getElementById('mostrar-cadastro').onclick = function(e) {
      e.preventDefault();
      document.getElementById('form-login').style.display = 'none';
      document.getElementById('form-cadastro').style.display = 'block';
      document.getElementById('cadastro-link').style.display = 'none';
      document.getElementById('login-link').style.display = 'block';
      document.getElementById('mensagem-login').textContent = '';
      document.getElementById('telefone-google-form').style.display = 'none';
    };
    document.getElementById('mostrar-login').onclick = function(e) {
      e.preventDefault();
      document.getElementById('form-login').style.display = 'block';
      document.getElementById('form-cadastro').style.display = 'none';
      document.getElementById('cadastro-link').style.display = 'block';
      document.getElementById('login-link').style.display = 'none';
      document.getElementById('mensagem-login').textContent = '';
      document.getElementById('telefone-google-form').style.display = 'none';
    };

    // ============================================================
    // SISTEMA DE VERIFICAÇÃO - EVENT LISTENERS
    // ============================================================
    
    // Verificação de telefone no cadastro
    document.getElementById('telefone-cadastro').addEventListener('input', function() {
      const telefone = this.value.trim();
      if (telefone && telefone.length >= 10) {
        // SMS desabilitado - aceita telefone automaticamente
        verificacaoStatus.telefone = true;
        atualizarStatusVerificacao();
      } else {
        verificacaoStatus.telefone = false;
        atualizarStatusVerificacao();
      }
    });

    // Event listener removido - verificação SMS desabilitada

    // Verificação de email no cadastro
    document.getElementById('email-cadastro').addEventListener('blur', function() {
      const email = this.value.trim();
      if (email && email.includes('@')) {
        verificacaoStatus.codigoEmail = gerarCodigoVerificacao();
        enviarCodigoEmail(email, verificacaoStatus.codigoEmail);
        document.getElementById('verificacao-email').style.display = 'block';
        verificacaoStatus.email = false;
        atualizarStatusVerificacao();
      } else {
        document.getElementById('verificacao-email').style.display = 'none';
        verificacaoStatus.email = false;
        atualizarStatusVerificacao();
      }
    });

    document.getElementById('verificar-email').addEventListener('click', function() {
      const codigoDigitado = document.getElementById('codigo-email').value.trim();
      if (codigoDigitado === verificacaoStatus.codigoEmail) {
        verificacaoStatus.email = true;
        document.getElementById('verificacao-email').innerHTML = '<p style="color:#28a745;margin:10px 0;">✓ Email verificado</p>';
        atualizarStatusVerificacao();
      } else {
        alert('Código incorreto. Tente novamente.');
      }
    });

    // ============================================================
    // VERIFICAÇÃO TELEFONE GOOGLE LOGIN
    // ============================================================
    
    // Verificação de telefone no Google login
    document.getElementById('telefone-google').addEventListener('input', function() {
      const telefone = this.value.trim();
      if (telefone && telefone.length >= 10) {
        // SMS desabilitado - aceita telefone automaticamente
        verificacaoGoogle.telefone = true;
        atualizarStatusGoogle();
      } else {
        verificacaoGoogle.telefone = false;
        atualizarStatusGoogle();
      }
    });

    // Event listener removido - verificação SMS desabilitada

    function atualizarStatusGoogle() {
      const btnSalvar = document.getElementById('btn-salvar-google');
      const statusMsg = document.getElementById('status-telefone-google');
      
      if (verificacaoGoogle.telefone) {
        btnSalvar.disabled = false;
        statusMsg.textContent = '✓ Telefone válido - SMS não necessário';
        statusMsg.style.color = '#28a745';
      } else {
        btnSalvar.disabled = true;
        statusMsg.textContent = 'Preencha um telefone válido (mín. 10 dígitos)';
        statusMsg.style.color = '#d63384';
      }
    }

    // Autenticação Firebase - Login com redirecionamento
    document.getElementById('form-login').onsubmit = function(e) {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const senha = document.getElementById('senha').value;
      auth.signInWithEmailAndPassword(email, senha)
        .then(() => {
          document.getElementById('mensagem-login').textContent = 'Login realizado com sucesso!';
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1200); // Redireciona após 1,2 segundos
        })
        .catch(error => {
          document.getElementById('mensagem-login').textContent = 'Erro: ' + error.message;
        });
    };

    // Esqueceu sua senha
    document.getElementById('link-esqueci-senha').onclick = function(e) {
      e.preventDefault();
      var email = document.getElementById('email').value.trim();
      if (!email) {
        alert('Digite seu e-mail para redefinir a senha.');
        document.getElementById('email').focus();
        return;
      }
      firebase.auth().sendPasswordResetEmail(email)
        .then(function() {
          document.getElementById('mensagem-login').textContent = 'Um e-mail de redefinição de senha foi enviado para ' + email;
        })
        .catch(function(error) {
          document.getElementById('mensagem-login').textContent = 'Erro ao enviar redefinição: ' + (error.message || 'Verifique o e-mail informado.');
        });
    };

    // Login com Google
    document.getElementById('btn-google').onclick = function() {
      document.getElementById('mensagem-login').textContent = 'Conectando com Google...';
      
      const provider = new firebase.auth.GoogleAuthProvider();
      
      auth.signInWithPopup(provider)
        .then(result => {
          const user = result.user;
          
          // Verificar se usuário já tem telefone cadastrado
          db.collection("usuarios").doc(user.uid).get().then(doc => {
            if (doc.exists && doc.data().telefone) {
              document.getElementById('mensagem-login').textContent = 'Login realizado com Google!';
              setTimeout(() => {
                window.location.href = 'index.html';
              }, 1200);
            } else {
              // Mostrar formulário de telefone
              document.getElementById('form-login').style.display = 'none';
              document.getElementById('form-cadastro').style.display = 'none';
              document.getElementById('cadastro-link').style.display = 'none';
              document.getElementById('login-link').style.display = 'none';
              document.getElementById('telefone-google-form').style.display = 'flex';
              document.getElementById('mensagem-login').textContent = 'Informe seu telefone para completar o cadastro.';
              
              // Inicializar status
              verificacaoGoogle.telefone = false;
              atualizarStatusGoogle();
            }
          });
        })
        .catch(error => {
          document.getElementById('mensagem-login').textContent = 'Erro: ' + error.message;
        });
    };

    // Salvar telefone após login Google
    document.getElementById('telefone-google-form').onsubmit = function(e) {
      e.preventDefault();
      
      const telefone = document.getElementById('telefone-google').value.trim();
      
      // Verificar se o telefone é válido (sem verificação SMS)
      if (!telefone || telefone.length < 10) {
        alert('Por favor, informe um telefone válido (mín. 10 dígitos).');
        return;
      }
      const user = auth.currentUser;
      if (user) {
        db.collection("usuarios").doc(user.uid).set({
          nome: user.displayName || "",
          telefone: telefone,
          email: user.email,
          telefoneVerificado: false, // SMS desabilitado
          emailVerificado: true, // Google já verifica o email
          dataCadastro: new Date().toISOString()
        }, { merge: true })
        .then(() => {
          document.getElementById('mensagem-login').textContent = 'Telefone salvo! Login realizado com sucesso.';
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1200);
        })
        .catch(error => {
          document.getElementById('mensagem-login').textContent = 'Erro ao salvar telefone: ' + error.message;
        });
      }
    };

    // Autenticação Firebase - Cadastro com telefone e retorno ao login
    document.getElementById('form-cadastro').onsubmit = function(e) {
      e.preventDefault();
      
      // Verificar se todas as verificações foram feitas
      if (!verificacaoStatus.telefone || !verificacaoStatus.email) {
        alert('Por favor, complete as verificações de telefone e email antes de cadastrar.');
        return;
      }
      
      const nome = document.getElementById('nome').value;
      const telefone = document.getElementById('telefone-cadastro').value;
      const email = document.getElementById('email-cadastro').value;
      const senha = document.getElementById('senha-cadastro').value;
      
      auth.createUserWithEmailAndPassword(email, senha)
        .then((userCredential) => {
          return userCredential.user.updateProfile({ displayName: nome });
        })
        .then(() => {
          const user = auth.currentUser;
          return db.collection("usuarios").doc(user.uid).set({
            nome: nome,
            telefone: telefone,
            email: email,
            telefoneVerificado: false, // SMS desabilitado
            emailVerificado: true,
            dataCadastro: new Date().toISOString()
          });
        })
        .then(() => {
          document.getElementById('mensagem-login').textContent = 'Cadastro realizado com sucesso! Faça login para continuar.';
          document.getElementById('form-cadastro').reset();
          setTimeout(() => {
            document.getElementById('form-cadastro').style.display = 'none';
            document.getElementById('form-login').style.display = 'block';
            document.getElementById('cadastro-link').style.display = 'block';
            document.getElementById('login-link').style.display = 'none';
            document.getElementById('mensagem-login').textContent = '';
          }, 1500); // Volta para login após 1,5 segundos
        })
        .catch(error => {
          document.getElementById('mensagem-login').textContent = 'Erro: ' + error.message;
        });
    };
  </script>
</body>
</html>